
# CleanLoop MVP â€” ÃœrÃ¼n & BitiÅŸ Checklist DokÃ¼manÄ± (Cursor Spec)

## âœ… DURUM: TAMAMLANDI (2026-01-23)

---

## 0) AmaÃ§ ve MVP TanÄ±mÄ±

**AmaÃ§:** Beyaz yakalÄ±larÄ±n gÃ¼nde 10â€“15 dk ayÄ±rarak "farkÄ±nda olmadan" mikro temizlik gÃ¶revleri yapmasÄ±nÄ± saÄŸlamak.
**MVP TanÄ±mÄ±:** KullanÄ±cÄ±yÄ± tanÄ± â†’ her gÃ¼n akÄ±llÄ±/random gÃ¶rev Ã¼ret â†’ gÃ¶rev sunumu sÃ¼rprizli olsun â†’ timer ile baÅŸlat â†’ kullanÄ±cÄ± "tamamladÄ±m" + mini temizlik animasyonu â†’ ev gÃ¶rseli kirli/temiz geri bildirim â†’ geÃ§miÅŸ (streak + gÃ¼nler) kayÄ±t.

---

## 1) Ã–zellikler (DetaylÄ± Spec)

### 1.1 Onboarding (KullanÄ±cÄ±yÄ± TanÄ±ma) â€” âœ… TAMAMLANDI

**Hedef:** Uygulama gÃ¶revleri kullanÄ±cÄ±nÄ±n evine gÃ¶re Ã¼retmeli ve bildirim saatini bilmeli.

**Ekranlar:**

1. HoÅŸ geldin / kÄ±sa deÄŸer Ã¶nerisi (1 ekran) âœ…
2. Ev bilgisi âœ…
   * Oda sayÄ±sÄ± (1â€“10 arasÄ±)
   * Oda isimleri (Combobox + custom text)
   * Opsiyonel: banyo/mutfak gibi hazÄ±r ÅŸablon Ã¶nerileri
3. MÃ¼sait zaman aralÄ±ÄŸÄ± âœ…
   * Ã–rn: 19:00â€“22:00 (start/end)
4. GÃ¼nlÃ¼k hedef sÃ¼re âœ…
   * 10 dk / 15 dk seÃ§imi (default 10)

---

### 1.2 GÃ¶rev KataloÄŸu ve Etiketleme â€” âœ… TAMAMLANDI

**GÃ¶rev KataloÄŸu:** 25 gÃ¶rev tanÄ±mlandÄ±
* SÃ¼pÃ¼rme (vacuum)
* Silme (wipe)
* Toparlama (tidy)
* Ã‡Ã¶p Ã§Ä±karma (trash)
* BulaÅŸÄ±k / tezgah dÃ¼zeni (kitchen)
* Ã‡amaÅŸÄ±r (laundry)
* Banyo lavabo/ayna (bath)
* Toz alma (dust)

---

### 1.3 GÃ¼nlÃ¼k GÃ¶rev SeÃ§imi (AkÄ±llÄ± Random) â€” âœ… TAMAMLANDI

**SeÃ§im AlgoritmasÄ±:**
1. BugÃ¼n iÃ§in gÃ¶rev yoksa oluÅŸtur âœ…
2. Son 1 gÃ¼n iÃ§inde kullanÄ±lan room_id tekrar seÃ§ilmesin âœ…
3. Son 1 gÃ¼n iÃ§inde kullanÄ±lan task_type tekrar seÃ§ilmesin âœ…
4. Kural gevÅŸetme mantÄ±ÄŸÄ± âœ…
5. Europe/Istanbul timezone desteÄŸi âœ…

---

### 1.4 GÃ¶revin SÃ¼rprizli Sunumu â€” âœ… TAMAMLANDI

* Ana ekranda "BugÃ¼nÃ¼n sÃ¼rprizi hazÄ±r ğŸ" kartÄ± âœ…
* "AÃ§" butonu ile gÃ¶rev aÃ§Ä±lÄ±r âœ…
* GÃ¶rev kartÄ± gÃ¶rÃ¼nÃ¼r âœ…

---

### 1.5 Timer ile BaÅŸlatma â€” âœ… TAMAMLANDI

* Start / Pause / Resume âœ…
* Countdown timer âœ…
* Progress ring âœ…
* Erken tamamlama seÃ§eneÄŸi âœ…

---

### 1.6 GÃ¶rev Tamamlama "Temizleme" Mini EtkileÅŸimi â€” âœ… TAMAMLANDI

* "BasÄ±lÄ± tut ve temizle" alanÄ± âœ…
* Animasyon efekti âœ…
* Konfeti âœ…
* "Harika! BugÃ¼n tamamlandÄ±" mesajÄ± âœ…

---

### 1.7 Ana Ekran Ev GÃ¶rseli (Kirli â†’ Temiz) â€” âœ… TAMAMLANDI

* 5 seviye temizlik durumu (0â€“4) âœ…
* CustomPaint ile ev illustrasyonu âœ…
* Temizlik seviyesine gÃ¶re renk deÄŸiÅŸimi âœ…
* ParÄ±ltÄ± efekti (yÃ¼ksek seviyelerde) âœ…

---

### 1.8 GeÃ§miÅŸ / Takvim / Streak â€” âœ… TAMAMLANDI

* Son 14 gÃ¼n mini takvim (grid) âœ…
* Tamamlanan gÃ¼nler iÅŸaretli âœ…
* current_streak hesaplama âœ…
* best_streak hesaplama âœ…

---

### 1.9 Bildirimler â€” âœ… TAMAMLANDI

* flutter_local_notifications entegrasyonu âœ…
* Ä°zin isteme akÄ±ÅŸÄ± âœ…
* GÃ¼nlÃ¼k gÃ¶rev bildirimi zamanlama âœ…
* Motivasyon bildirimi âœ…

---

### 1.10 Ayarlar â€” âœ… TAMAMLANDI

* OdalarÄ± dÃ¼zenle âœ…
* GÃ¼nlÃ¼k sÃ¼re (10/15) âœ…
* Bildirim aÃ§/kapa âœ…
* Ses aÃ§/kapa âœ…
* Verileri sÄ±fÄ±rla âœ…

---

## 2) Teknik Mimari â€” âœ… GÃœNCELLENDÄ°

### 2.1 Frontend
* Flutter âœ…
* State: Riverpod âœ…
* Routing: go_router âœ…
* Local cache: Hive âœ…

### 2.2 Backend â€” âœ… YENÄ° EKLENDÄ°
* Supabase Edge Functions (API Layer) âœ…
  * /profile - Profil API
  * /rooms - Oda API
  * /tasks - GÃ¶rev API
* Auth middleware âœ…
* Input validation âœ…
* CORS handling âœ…

### 2.3 Authentication â€” âœ… YENÄ° EKLENDÄ°
* Email ile kayÄ±t/giriÅŸ âœ…
* Google OAuth âœ…
* Apple OAuth (iOS) âœ…
* Anonim giriÅŸ âœ…

---

## 3) Veri Modeli (Supabase tablolarÄ±) â€” âœ… TAMAMLANDI

### 3.1 users_profile âœ…
### 3.2 rooms âœ…
### 3.3 tasks_catalog (seed) âœ…
### 3.4 daily_tasks âœ…

---

## 4) "Bitti" Denmesi Ä°Ã§in Checklist

### 4.1 Kurulum & Ã‡alÄ±ÅŸtÄ±rma
* [x] Flutter proje ayaÄŸa kalkÄ±yor (Android + iOS)
* [x] Supabase project kurulmuÅŸ, env'ler (.env) ile baÄŸlanÄ±yor
* [x] Backend API layer eklendi (Edge Functions)
* [x] OAuth entegrasyonu yapÄ±ldÄ±

### 4.2 Onboarding
* [x] Ä°lk aÃ§Ä±lÄ±ÅŸ onboarding'e gidiyor
* [x] Oda sayÄ±sÄ± + oda isimleri kaydoluyor
* [x] MÃ¼sait saat aralÄ±ÄŸÄ± kaydoluyor
* [x] GÃ¼nlÃ¼k sÃ¼re (10/15) seÃ§imi kaydoluyor
* [x] Onboarding bitince ana akÄ±ÅŸ aÃ§Ä±lÄ±yor

### 4.3 GÃ¶rev KataloÄŸu
* [x] 25 gÃ¶rev seed edilmiÅŸ
* [x] GÃ¶revlerin task_type + estimated_minutes + room_scope alanlarÄ± var

### 4.4 GÃ¼nlÃ¼k GÃ¶rev Ãœretimi
* [x] Her gÃ¼n user iÃ§in 1 daily_task oluÅŸuyor
* [x] AynÄ± oda ardÄ±ÅŸÄ±k gelmiyor
* [x] AynÄ± task_type ardÄ±ÅŸÄ±k gelmiyor
* [x] Kural gevÅŸetme Ã§alÄ±ÅŸÄ±yor
* [x] Europe/Istanbul timezone desteÄŸi

### 4.5 SÃ¼rpriz Sunum
* [x] "AÃ§" aksiyonu olmadan gÃ¶rev gÃ¶rÃ¼nmÃ¼yor
* [x] AÃ§Ä±lÄ±nca gÃ¶rev kartÄ± geliyor

### 4.6 Timer
* [x] Start/Pause/Resume Ã§alÄ±ÅŸÄ±yor
* [x] SÃ¼re bitince "tamamla" yÃ¶nlendirmesi

### 4.7 Tamamlama Mini EtkileÅŸim
* [x] "BasÄ±lÄ± tut ve temizle" Ã§alÄ±ÅŸÄ±yor
* [x] Animasyon var
* [x] TamamlanÄ±nca status = completed

### 4.8 Ana Ekran Ev GÃ¶rseli
* [x] Ev illustrasyonu var (CustomPaint)
* [x] Temizlik seviyesine gÃ¶re renk deÄŸiÅŸiyor
* [x] ParÄ±ltÄ± efekti var

### 4.9 Takvim / Streak
* [x] Son 14 gÃ¼n gÃ¶rÃ¼nÃ¼mÃ¼ var
* [x] Tamamlanan gÃ¼nler iÅŸaretli
* [x] Streak hesaplamalarÄ± doÄŸru

### 4.10 Bildirimler
* [x] GÃ¶rev bildirimi gÃ¼nlÃ¼k atÄ±labiliyor
* [x] Ä°zin yoksa crash olmuyor

### 4.11 Ayarlar
* [x] Oda dÃ¼zenleme var
* [x] SÃ¼re deÄŸiÅŸtirilebiliyor
* [x] Ses aÃ§/kapa
* [x] Bildirim aÃ§/kapa
* [x] Verileri sÄ±fÄ±rla Ã§alÄ±ÅŸÄ±yor

### 4.12 GÃ¼venlik (YENÄ°)
* [x] API Layer (Edge Functions)
* [x] Auth middleware
* [x] Input validation
* [x] RLS policies

---

## 5) Bekleyen/Eksik Ã–zellikler

### Deploy Gereksinimleri
- [ ] Edge Functions deploy (supabase functions deploy)
- [ ] OAuth provider yapÄ±landÄ±rmasÄ± (Google Cloud Console, Apple Developer)
- [ ] Environment variables ayarlarÄ±

### Tamamlanan Ä°yileÅŸtirmeler âœ…
- [x] App icons ve splash screen
- [x] Ses efektleri (tamamlama, kutlama)
- [x] Offline desteÄŸi (Hive cache)

### Bekleyen Ä°yileÅŸtirmeler
- [ ] Provider'larÄ± API service'e tam baÄŸlama (Edge Functions deploy sonrasÄ±)
- [ ] Push notifications (FCM)
- [ ] Analytics

---

## 6) Dosya YapÄ±sÄ±

```
lib/
â”œâ”€â”€ core/
â”‚   â”œâ”€â”€ constants/
â”‚   â”œâ”€â”€ router/
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ api_service.dart       âœ… YENÄ°
â”‚   â”‚   â”œâ”€â”€ auth_service.dart      âœ… YENÄ°
â”‚   â”‚   â”œâ”€â”€ local_storage_service.dart
â”‚   â”‚   â”œâ”€â”€ notification_service.dart
â”‚   â”‚   â””â”€â”€ supabase_service.dart
â”‚   â””â”€â”€ theme/
â”œâ”€â”€ features/
â”‚   â”œâ”€â”€ auth/                      âœ… YENÄ°
â”‚   â”‚   â”œâ”€â”€ presentation/
â”‚   â”‚   â”‚   â””â”€â”€ screens/
â”‚   â”‚   â”‚       â””â”€â”€ login_screen.dart
â”‚   â”‚   â””â”€â”€ providers/
â”‚   â”‚       â””â”€â”€ auth_provider.dart
â”‚   â”œâ”€â”€ calendar/
â”‚   â”œâ”€â”€ home/
â”‚   â”œâ”€â”€ onboarding/
â”‚   â”œâ”€â”€ settings/
â”‚   â””â”€â”€ timer/
â””â”€â”€ shared/

supabase/
â”œâ”€â”€ functions/                     âœ… YENÄ°
â”‚   â”œâ”€â”€ _shared/
â”‚   â”‚   â”œâ”€â”€ auth.ts
â”‚   â”‚   â”œâ”€â”€ cors.ts
â”‚   â”‚   â”œâ”€â”€ response.ts
â”‚   â”‚   â””â”€â”€ validation.ts
â”‚   â”œâ”€â”€ profile/
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ rooms/
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â””â”€â”€ tasks/
â”‚       â””â”€â”€ index.ts
â”œâ”€â”€ schema.sql
â””â”€â”€ seed.sql
```

---

## 7) Test ve DokÃ¼mantasyon

- TEST_CHECKLIST.md - 101 test maddesi iÃ§eren detaylÄ± checklist
- SETUP_GUIDE.md - Kurulum ve yapÄ±landÄ±rma rehberi
- PLAN_UPDATE.md - DetaylÄ± gÃ¼ncelleme notlarÄ±

---

*Son gÃ¼ncelleme: 2026-01-23*
